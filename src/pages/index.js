import Head from "next/head";
import Image from "next/image";
import Script from "next/script";
import styles from "@styles/Home.module.scss";
import Header from "@components/Header";
import Footer from "@components/Footer";
import Container from "@components/Container";
import Button from "@components/Button";
import Products from "@data/products.json";

export default function Home() {
  return (
    <div>
      <Head>
        <title>Order Online | For A Better Economy</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.png" />
        <link rel="preconnect" href="https://app.snipcart.com" />
        <link rel="preconnect" href="https://cdn.snipcart.com" />
        <link
          rel="stylesheet"
          href="https://cdn.snipcart.com/themes/v3.3.0/default/snipcart.css"
        />
      </Head>

      <Header />
      <main>
        <Container>
          <h2>Available Cards</h2>
          <ul className={styles.products}>
            {Products.map((product) => (
              <li key={product.id}>
                <Image
                  width="864"
                  height="1200"
                  src={product.image}
                  alt={`Card for ${product.title}`}
                />
                <h3 className={styles.productTitle}>{product.title}</h3>
                <p className={styles.productPrice}>${product.price}</p>
                <button
                  className="snipcart-add-item"
                  data-item-id={product.id}
                  data-item-price={product.price}
                  data-item-url="/"
                  data-item-description=""
                  data-item-image={product.image}
                  data-item-name={product.title}
                >
                  Add to cart
                </button>
              </li>
            ))}
          </ul>
        </Container>
      </main>
      <Footer />

      <Script src="https://cdn.snipcart.com/themes/v3.3.0/default/snipcart.js" />
      <div
        hidden
        id="snipcart"
        data-api-key={process.env.NEXT_PUBLIC_SNIPCART_API_KEY}
      />
    </div>
  );
}
